<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>é¦¬ä¾†è¥¿äºæ—…éŠè¡Œç¨‹</title>

  

  <style>
    body {
      background: #f6f5f3;
      font-family: sans-serif;
      display: flex;
      justify-content: center;
      padding: 20px;
    }
    .app {
      width: 380px;
      background: #fff;
      border-radius: 20px;
      padding: 20px;
    }
    .days {
      display: flex;
      overflow-x: auto;
      gap: 6px;
      margin-bottom: 12px;
    }
    .day-btn {
      padding: 6px 10px;
      border-radius: 12px;
      border: none;
      background: #eee;
      cursor: pointer;
    }
    .day-btn.active {
      background: #e5d5c3;
    }
    .tabs {
      display: flex;
      gap: 8px;
      margin: 10px 0;
    }
    .tab {
      flex: 1;
      padding: 8px;
      border-radius: 20px;
      border: none;
      background: #eee;
      cursor: pointer;
    }
    .tab.active {
      background: #e8dcca;
    }
    .card {
      background: #faf9f7;
      padding: 12px;
      border-radius: 12px;
      margin-bottom: 10px;
    }
    .add-btn {
      width: 100%;
      margin: 12px 0;
      padding: 10px;
      border-radius: 12px;
      border: none;
      background: #d9cbb6;
      cursor: pointer;
    }
  </style>
</head>

<body>
<div class="app">
  <div class="days" id="dayButtons"></div>
  <h1 id="dayTitle"></h1>

  <div class="tabs">
    <button class="tab active" data-category="spot">æ™¯é»</button>
    <button class="tab" data-category="food">ç¾é£Ÿ</button>
    <button class="tab" data-category="stay">ä½å®¿</button>
  </div>

  <div id="schedule"></div>
  <button class="add-btn" onclick="addPlace()">ï¼‹ æ–°å¢åœ°é»</button>

  <hr>

<h2>å¾…è¾¦äº‹é …</h2>
<ul id="todoList"></ul>
<button class="add-btn" onclick="addTodo()">ï¼‹ æ–°å¢å¾…è¾¦</button>

<h2>è¡Œææ¸…å–®</h2>
<ul id="luggageList"></ul>
<button class="add-btn" onclick="addLuggage()">ï¼‹ æ–°å¢è¡Œæ</button>

<h2>è³¼ç‰©æ¸…å–®</h2>
<ul id="shoppingList"></ul>
<button class="add-btn" onclick="addShopping()">ï¼‹ æ–°å¢è³¼ç‰©</button>

</div>

<!-- ğŸ”¥ Firebase + JSï¼ˆä¸€å®šè¦æ˜¯ moduleï¼‰ -->
<script type="module">
  /* =====================
     Firebase åˆå§‹åŒ–
  ====================== */
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBOTh16RSCCca_FBUFiz0utDil-SlkZJKg",
    authDomain: "travel-plan-544b5.firebaseapp.com",
    projectId: "travel-plan-544b5",
    storageBucket: "travel-plan-544b5.firebasestorage.app",
    messagingSenderId: "794197854377",
    appId: "1:794197854377:web:5ac7eb18afb56618cf01b8"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  console.log("âœ… Firebase åˆå§‹åŒ–æˆåŠŸ", db);

 /* =====================
   è¡Œç¨‹è³‡æ–™
===================== */
const days = [
  { date: "2/9", city: "å°ç£å‡ºç™¼" },
  { date: "2/10", city: "éº»å…­ç”²" },
  { date: "2/11", city: "æ³¢å¾·ç”³" },
  { date: "2/12", city: "æ³¢å¾·ç”³" },
  { date: "2/13", city: "KL" },
  { date: "2/14", city: "KL" },
  { date: "2/15", city: "æ¢³é‚¦" },
  { date: "2/16", city: "å›å°ç£" }
];

let currentDay = 0;
let currentCategory = "spot";

/* æ¯ä¸€å¤©è‡ªå·±çš„è¡Œç¨‹ + å¾…è¾¦ */
const data = days.map(() => ({
  spot: [],
  food: [],
  stay: [],
  todo: []
}));

/* å…¨æ—…ç¨‹å…±ç”¨ */
const luggage = [];
const shopping = [];

 function renderSimpleList(id, arr) {
  const ul = document.getElementById(id);
  ul.innerHTML = "";
  arr.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    ul.appendChild(li);
  });
}

  window.addTodo = function () {
  const t = prompt("å¾…è¾¦äº‹é …");
  if (t) {
    data[currentDay].todo.push(t);
    renderSimpleList("todoList", data[currentDay].todo);
  }
};

  window.addLuggage = function () {
  const t = prompt("è¡Œæé …ç›®");
  if (t) {
    luggage.push(t);
    renderSimpleList("luggageList", luggage);
  }
};

  window.addShopping = function () {
  const t = prompt("è³¼ç‰©é …ç›®");
  if (t) {
    shopping.push(t);
    renderSimpleList("shoppingList", shopping);
  }
};

</script>
</body>
</html>
